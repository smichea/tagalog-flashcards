<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="icon.png" type="image/png">
  <title>Tagalog Flashcards</title>
</head>
<body>
  <!-- Mode Switch Above Cards -->
  <div class="mode-switch">
    <button id="flashcardModeBtn">Flashcards</button>
    <button id="quizModeBtn">Quiz</button>
    <button id="scoreModeBtn">Score</button>
    <button id="settingsModeBtn">Settings</button>
  </div>

  <!-- Flashcard View -->
  <div id="flashcard-container">
    <div class="card" id="card" onclick="toggleCard()">
      <div id="word">Loading…</div>
      <div id="overlay" class="overlay"></div>
    </div>
    <small id="progress"></small>
    <div class="controls">
      <button id="prevBtn">Previous</button>
      <button id="memorizedBtn">Memorized</button>
      <button id="nextBtn">Next</button>
    </div>
  </div>

  <!-- Quiz View -->
  <div id="quiz-container" style="display:none;">
    <div class="card" id="quiz-card">
      <div id="quiz-word">Loading…</div>
      <div id="quiz-overlay" class="overlay"></div>
    </div>
    <div class="options"></div>
  </div>

  <!-- Score View -->
  <div id="score-container" style="display:none; width: 90%; max-width: 600px;">
    <h2>Score Overview</h2>
    <div id="overall-score"></div>
    <h3>Word Scores</h3>
    <ul id="word-scores-list"></ul>
    <button id="backBtn">Back</button>
    <button id="resetBtn">Reset Progress</button>
  </div>

  <!-- Settings View -->
  <div id="settings-container" style="display:none; width: 90%; max-width: 600px;">
    <h2>Settings</h2>

    <section id="gdrive-section">
      <h3>Google Drive Sync</h3>
      <p id="gdrive-status">Not connected</p>
      <button id="gdrive-connect-btn">Connect to Google</button>
      <button id="gdrive-disconnect-btn" style="display:none;">Disconnect</button>
    </section>

    <section id="sync-settings" style="display:none;">
      <label>
        Sync interval (minutes):
        <input type="number" id="sync-interval-input" min="1" value="10" style="width:4em;">
      </label>
      <p id="last-sync-info">Last sync: –</p>
    </section>

    <button id="settingsBackBtn">Back</button>
  </div>

  <!-- Confidentiality Page -->
  <div id="confidentiality-container" style="display:none; width: 90%; max-width: 800px; text-align:left;">
    <h2>Confidentiality & Privacy</h2>
    <p>
      This application runs entirely in your browser. We do not operate any
      server that receives or stores your personal information or learning
      statistics. All data – including your memorisation progress – is kept in
      the browser’s <em>localStorage</em> on your device.
    </p>
    <p>
      If you choose to connect your Google account, the app requests
      permission to create and update <strong>a single file</strong> in your
      Google Drive (scope: <code>drive.file</code>). This file contains only
      your learning progress so that you can sync between devices. No other
      data is accessed, and nothing is sent to any third‑party server operated
      by us.
    </p>
    <p>
      Disconnecting from Google Drive in the Settings page immediately stops
      all Drive interaction. You may also delete the created file from Drive
      at any time.
    </p>
    <button id="confidentialityBackBtn">Back</button>
  </div>

  <!-- Terms of Usage Page -->
  <div id="terms-container" style="display:none; width: 90%; max-width: 800px; text-align:left;">
    <h2>Terms of Usage</h2>
    <ol>
      <li>This software is provided “as is”, without warranty of any kind.</li>
      <li>You may use it freely for personal, non‑commercial learning
          purposes.</li>
      <li>We are not responsible for loss of data stored in your browser or
          Google Drive.</li>
      <li>You are responsible for securing your own Google account if you
          enable Drive sync.</li>
      <li>By using the app you agree to these terms.</li>
    </ol>
    <button id="termsBackBtn">Back</button>
  </div>

  <!-- Google API Loader; will only load if page online -->
  <script async defer src="https://apis.google.com/js/api.js"></script>
  <script async defer src="https://accounts.google.com/gsi/client"></script>

  <script src="script.js"></script>
</body>
</html>
